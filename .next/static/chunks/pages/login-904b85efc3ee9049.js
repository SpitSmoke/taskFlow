(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{2422:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});let r=t(1040).A.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{let n=localStorage.getItem("token")||sessionStorage.getItem("token");return n&&(e.headers.Authorization="Bearer ".concat(n)),e});let o=r},7984:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(9801)}])},9801:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>A});var r=t(8888),o=t(7876),a=t(4232),i=t(9099),c=t(7232),s=t(2422),l=t(941);function u(){let e=(0,r._)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  padding: 1rem;\n"]);return u=function(){return e},e}function d(){let e=(0,r._)(["\n  background-color: #c3c3c3;\n  padding: 2rem;\n  border-radius: 1rem;\n  max-width: 400px;\n  width: 100%;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]);return d=function(){return e},e}function h(){let e=(0,r._)(["\n  padding: 0.75rem;\n  border-radius: 0.5rem;\n  border: 1px solid #ccc;\n  font-size: 1rem;\n"]);return h=function(){return e},e}function p(){let e=(0,r._)(["\n  background-color: #2a5298;\n  color: white;\n  padding: 0.75rem;\n  border: none;\n  border-radius: 0.5rem;\n  font-weight: bold;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n\n  &:hover {\n    background-color: #1e3c72;\n  }\n"]);return p=function(){return e},e}function m(){let e=(0,r._)(["\ntext-align: center;\n"]);return m=function(){return e},e}function f(){let e=(0,r._)(["\n  color: red;\n  font-size: 0.9rem;\n"]);return f=function(){return e},e}function g(){let e=(0,r._)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]);return g=function(){return e},e}let b=c.Ay.div(u()),x=c.Ay.form(d()),y=c.Ay.input(h()),_=c.Ay.button(p()),k=c.Ay.p(m()),w=c.Ay.p(f()),j=c.Ay.label(g());function A(){let e=(0,i.useRouter)(),[n,t]=(0,a.useState)({email:"",password:""}),[r,c]=(0,a.useState)(""),[u,d]=(0,a.useState)(!1),{login:h,isAuthenticated:p}=(0,l.A)(),m=e=>{t({...n,[e.target.name]:e.target.value})},f=async t=>{t.preventDefault(),c("");try{let t=await s.A.post("".concat("http://localhost:8080/api","/login"),n);localStorage.setItem("token",t.data.token),h(t.data.token,u),e.push("/dashboard")}catch(e){var r,o;c((null==e||null==(o=e.response)||null==(r=o.data)?void 0:r.error)||"Erro ao fazer login.")}};return(0,a.useEffect)(()=>{p&&e.push("/dashboard")},[p,e]),(0,o.jsx)(b,{children:(0,o.jsxs)(x,{onSubmit:f,children:[(0,o.jsx)("h2",{children:"Entrar na sua conta"}),(0,o.jsx)(y,{name:"email",type:"email",placeholder:"Email",value:n.email,onChange:m,required:!0}),(0,o.jsx)(y,{name:"password",type:"password",placeholder:"Senha",value:n.password,onChange:m,required:!0}),(0,o.jsxs)(j,{children:[(0,o.jsx)("input",{type:"checkbox",checked:u,onChange:e=>d(e.target.checked)}),"Lembrar de mim"]}),r&&(0,o.jsx)(w,{children:"Email ou senha errado !"}),(0,o.jsx)(_,{type:"submit",children:"Entrar"}),(0,o.jsxs)(k,{children:["N\xe3o tem uma conta? ",(0,o.jsx)("a",{href:"/register",style:{color:"#2a5298",fontWeight:"bold",cursor:"pointer",textDecoration:"none"},children:"Crie uma"})]})]})})}}},e=>{var n=n=>e(e.s=n);e.O(0,[40,636,593,792],()=>n(7984)),_N_E=e.O()}]);