(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{2346:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>O});var r=t(8888),o=t(7876),i=t(4232),a=t(7232),c=t(2422);function s(){let n=(0,r._)(["\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 0.5rem;\n  gap: 0.5rem;\n"]);return s=function(){return n},n}function l(){let n=(0,r._)(["\n  margin-top: 0.3rem;\n  cursor: pointer;\n"]);return l=function(){return n},n}function u(){let n=(0,r._)(["\n  display: block;\n  font-weight: bold;\n  text-decoration: ",";\n  color: ",";\n  transition: color ",";\n"]);return u=function(){return n},n}function d(){let n=(0,r._)(["\n  width: 100%;\n  resize: none;\n  border: none;\n  background: transparent;\n  color: ",";\n  text-decoration: ",";\n  font-size: 0.875rem;\n  outline: none;\n  margin-top: 0.25rem;\n\n  &::placeholder {\n    color: ",";\n  }\n"]);return d=function(){return n},n}function h(){let n=(0,r._)(["\n  color: ",";\n  margin-left: 0.5rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n\n  &:hover {\n    color: ",";\n  }\n"]);return h=function(){return n},n}let m=a.Ay.li(s()),p=a.Ay.input(l()),f=a.Ay.span(u(),n=>n.isDone?"line-through":"none",n=>n.isDone?n.theme.colors.textSecondary:n.theme.colors.text,n=>n.theme.transition),g=a.Ay.textarea(d(),n=>n.isDone?n.theme.colors.textSecondary:n.theme.colors.text,n=>n.isDone?"line-through":"none",n=>n.theme.colors.textSecondary),b=a.Ay.button(h(),n=>n.theme.colors.error,n=>n.theme.colors.errorHover);function x(n){var e;let{task:t,onToggle:r,onDelete:a,onUpdateDescription:c}=n,[s,l]=(0,i.useState)(null!=(e=t.description)?e:"");return(0,o.jsxs)(m,{children:[(0,o.jsx)(p,{type:"checkbox",checked:t.is_done,onChange:()=>r(t)}),(0,o.jsxs)("div",{style:{flexGrow:1},children:[(0,o.jsx)(f,{isDone:t.is_done,children:t.title}),(0,o.jsx)(g,{value:s,onChange:n=>l(n.target.value),onBlur:()=>{s!==t.description&&c&&c(t,s)},isDone:t.is_done,placeholder:"Adicione uma descri\xe7\xe3o..."})]}),(0,o.jsx)(b,{onClick:()=>a(t.id),children:"X"})]})}var y=t(9099),k=t(941);function _(n){let{children:e}=n,t=(0,y.useRouter)(),{isAuthenticated:r}=(0,k.A)();return((0,i.useEffect)(()=>{r||t.push("/login")},[r,t]),r)?(0,o.jsx)(o.Fragment,{children:e}):null}function w(){let n=(0,r._)(["\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: ",";\n  padding: 2rem;\n  transition: background-color ",";\n"]);return w=function(){return n},n}function A(){let n=(0,r._)(["\n  font-size: ",";\n  font-weight: ",";\n  margin-bottom: 2rem;\n  color: ",";\n  transition: color ",";\n  text-align: center;\n"]);return A=function(){return n},n}function v(){let n=(0,r._)(["\n  background-color: ",";\n  padding: 2rem;\n  border-radius: ",";\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\n  max-width: ",";\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  gap: 1.5rem;\n"]);return v=function(){return n},n}function j(){let n=(0,r._)(["\n  display: flex;\n  gap: 1rem;\n"]);return j=function(){return n},n}function S(){let n=(0,r._)(["\n  flex-grow: 1;\n  padding: 0.5rem;\n  border: 1px solid ",";\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  transition: all ",";\n\n  &::placeholder {\n    color: ",";\n  }\n"]);return S=function(){return n},n}function E(){let n=(0,r._)(["\n  background-color: ",";\n  color: white;\n  padding: 0.5rem 1rem;\n  border-radius: ",";\n  border: none;\n  cursor: pointer;\n  transition: background-color ",";\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return E=function(){return n},n}function C(){let n=(0,r._)(["\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  background: #ff5e57;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: bold;\n  transition: background 0.3s;\n\n  &:hover {\n    background: #e04b45;\n  }\n"]);return C=function(){return n},n}function D(){let n=(0,r._)(["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  max-height: 300px;\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: ",";\n    border-radius: 3px;\n  }\n"]);return D=function(){return n},n}let z=a.Ay.div(w(),n=>n.theme.colors.background,n=>n.theme.transition),N=a.Ay.h1(A(),n=>n.theme.typography.fontSizes.xlarge,n=>n.theme.typography.fontWeights.bold,n=>n.theme.colors.text,n=>n.theme.transition),R=a.Ay.div(v(),n=>n.theme.colors.surface,n=>n.theme.borderRadius,n=>n.theme.sizes.maxWidth),T=a.Ay.form(j()),X=a.Ay.input(S(),n=>n.theme.colors.border,n=>n.theme.borderRadius,n=>n.theme.colors.background,n=>n.theme.colors.text,n=>n.theme.transition,n=>n.theme.colors.textSecondary),B=a.Ay.button(E(),n=>n.theme.colors.primary,n=>n.theme.borderRadius,n=>n.theme.transition,n=>n.theme.colors.primaryHover),H=a.Ay.button(C()),I=a.Ay.ul(D(),n=>n.theme.colors.border);function O(){let{logout:n}=(0,k.A)(),[e,t]=(0,i.useState)([]),[r,a]=(0,i.useState)(""),[s,l]=(0,i.useState)("");async function u(){try{let n=await c.A.get("/tasks");t(n.data)}catch(n){console.error("Erro ao carregar tasks",n)}}async function d(n){if(n.preventDefault(),r.trim())try{await c.A.post("/tasks",{title:r,description:s}),a(""),l(""),await u()}catch(n){console.error("Erro ao criar task",n)}}async function h(n){try{await c.A.put("/tasks/".concat(n.id),{title:n.title,description:n.description,is_done:!n.is_done}),await u()}catch(n){console.error("Erro ao atualizar task",n)}}async function m(n){try{await c.A.delete("/tasks/".concat(n)),await u()}catch(n){console.error("Erro ao deletar task",n)}}return(0,i.useEffect)(()=>{u()},[]),(0,o.jsx)(_,{children:(0,o.jsxs)(z,{children:[(0,o.jsx)(N,{children:"Minhas Tasks"}),(0,o.jsx)(H,{onClick:n,children:"Sair"}),(0,o.jsxs)(R,{children:[(0,o.jsxs)(T,{onSubmit:d,children:[(0,o.jsx)(X,{value:r,onChange:n=>a(n.target.value),placeholder:"Nova task"}),(0,o.jsx)(X,{value:s,onChange:n=>l(n.target.value),placeholder:"Descri\xe7\xe3o (opcional)"}),(0,o.jsx)(B,{type:"submit",children:"Adicionar"})]}),(0,o.jsx)(I,{children:e.map(n=>(0,o.jsx)(x,{task:n,onToggle:h,onDelete:m},n.id))})]})]})})}},2422:(n,e,t)=>{"use strict";t.d(e,{A:()=>o});let r=t(1040).A.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(n=>{let e=localStorage.getItem("token")||sessionStorage.getItem("token");return e&&(n.headers.Authorization="Bearer ".concat(e)),n});let o=r},7580:(n,e,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return t(2346)}])}},n=>{var e=e=>n(n.s=e);n.O(0,[40,636,593,792],()=>e(7580)),_N_E=n.O()}]);